--- ./tools/mkpasswd.c	2017-03-26 21:07:51.000000000 +0530
+++ ../mkpasswd.c	2017-06-07 09:02:34.189387081 +0530
@@ -49,6 +49,21 @@
        "./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
        /* 0 .. 63, ascii - 64 */
 
+#ifdef __ANDROID__
+static char* getpass(const char* prompt) {
+       static char chars[128];
+       int len = 0;
+       while (1) {
+               char c = fgetc(stdin); 
+               if (c == '\r' || c == '\n' || c == 0) break; 
+               chars[len++] = c;
+               if (len == sizeof(chars)-1) break;
+       } 
+       chars[len] = 0;
+       return chars;
+}
+#endif
+
 int
 main(int argc, char *argv[])
 {
